{"version":3,"sources":["webpack:///./src/views/dailyRec.vue?3dc8","webpack:///./src/views/dailyRec.vue","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","webpack:///./node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack:///./src/utils/file.ts","webpack:///./src/views/dailyRec.vue?c638","webpack:///./src/views/dailyRec.vue?c1a0"],"names":["class","width","height","color","calendarColor","window","Date","getDate","colVisible","columns","dataSource","dailySongs","visible","downloadModalVisible","default","songsUrlObjArr","item","index","key","type","name","level","id","checked","for","musicQuality","buttons","confirmDownload","ref","tracks","map","_arrayWithHoles","arr","Array","isArray","_iterableToArrayLimit","i","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","_nonIterableRest","TypeError","_slicedToArray","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","downloadMusic","url","now","console","log","tagA","document","createElement","download","String","href","click","setup","store","state","currentMusicObj","likeList","commonToast","title","dataIndex","render","text","join","newV","getRec","Promise","resolve","reject","t","then","res","code","data","getLikeList","ids","getters","getTheme","tryDownloadMusic","findResult","find","collectMusic","like","all","res1","res2","success","playTime","__scopeId"],"mappings":"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","file":"js/chunk-659d19dd.210a3230.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./dailyRec.vue?vue&type=style&index=0&id=cbb601a8&scoped=true&lang=scss\"","<template>\n    <div class=\"dailyRec ps-3 h-100 overflow-scroll hideScrollBar\">\n        <div class=\"m-5 d-flex\">\n            <div class=\"position-relative calendarBox\">\n                <CalendarIcon width=\"90\" height=\"90\" :color=\"calendarColor\" />\n                <div class=\"dateText fw-bold position-absolute start-50 fs-1 translate-middle\">\n                    {{ new window.Date().getDate() }}\n                </div>\n            </div>\n            <div class=\"ms-5 d-flex flex-column justify-content-center\">\n                <div class=\"fs-1\">每日歌曲推荐</div>\n                <div class=\"text-muted\">根据你的音乐口味生成，每天6:00更新</div>\n            </div>\n        </div>\n        <div class=\"d-flex\">\n            <div\n                class=\"rounded-pill d-flex align-items-center justify-content-between text-white mb-4 ms-5 cursor-pointer position-relative overflow-hidden playAllBtn\"\n            >\n                <div class=\"d-flex align-items-center justify-content-center border-end h-100 hover-btn\">\n                    <DownArrowIcon width=\"20\" height=\"20\" />\n                    <span class=\"ms-1\">播放全部</span>\n                </div>\n                <div class=\"d-flex align-items-center justify-content-center flex-grow-1 h-100 hover-btn\">\n                    <PlusIcon width=\"20\" height=\"20\" />\n                </div>\n            </div>\n            <div\n                @click=\"colVisible = true\"\n                class=\"collectList ms-3 rounded-pill px-5 border d-flex align-items-center cursor-pointer hover-btn\"\n            >\n                <CollectListIcon width=\"20\" height=\"20\" />\n                <span class=\"ms-2\">收藏全部</span>\n            </div>\n        </div>\n        <div class=\"border-top mb-5\">\n            <MusicList :columns=\"columns\" :dataSource=\"dailySongs\" />\n        </div>\n    </div>\n    <CommonModal v-model:visible=\"downloadModalVisible\">\n        <template #default>\n            <div class=\"d-flex justify-content-center\">\n                <div\n                    v-for=\"(item, index) in songsUrlObjArr\"\n                    :key=\"index\"\n                    class=\"d-flex align-items-center cursor-pointer\"\n                >\n                    <input\n                        type=\"radio\"\n                        :name=\"item.level\"\n                        :id=\"item.level\"\n                        v-model=\"item.checked\"\n                        :checked=\"item.checked\"\n                    />\n                    <label class=\"ms-3\" :for=\"item.level\">{{ musicQuality(item.level) }}</label>\n                </div>\n            </div>\n        </template>\n        <template #buttons>\n            <div class=\"d-flex justify-content-center\">\n                <div\n                    @click=\"confirmDownload\"\n                    class=\"okBtn cursor-pointer d-flex justify-content-center align-items-center\"\n                >\n                    确定\n                </div>\n                <div\n                    @click=\"downloadModalVisible = false\"\n                    class=\"okBtn cancelBtn ms-4 rounded-pill text-muted border cursor-pointer d-flex justify-content-center align-items-center\"\n                >\n                    取消\n                </div>\n            </div>\n        </template>\n    </CommonModal>\n    <CommonToast ref=\"commonToast\" />\n    <CollectionListModal :tracks=\"dailySongs.map(item => item.id)\" v-model:visible=\"colVisible\" />\n</template>\n\n<script lang=\"ts\">\nimport { computed, defineComponent, reactive, ref, toRefs, watch } from \"vue\";\nimport { getRecommendSongsApi, getSongDetail, getSongUrl, likeMusic } from \"@/api/discover\";\nimport { getLikeList as getLikeListApi } from \"@/api/login\";\nimport { playTime } from \"@/hooks/useFilters\";\nimport { useStore } from \"vuex\";\nimport { downloadMusic as downloadMusicFun } from \"@/utils/file\";\nimport { musicQuality } from \"@/hooks/useFilters\";\nimport { AxiosResponseProps } from \"@/utils/request\";\nexport default defineComponent({\n    setup() {\n        const store = useStore();\n        const state = reactive({\n            dailySongs: [],\n            downloadModalVisible: false,\n            songsUrlObjArr: [],\n            currentMusicObj: {},\n            likeList: [],\n            commonToast: ref(null),\n            colVisible: false,\n            columns: [\n                {\n                    title: \"音乐标题\",\n                    dataIndex: \"name\",\n                },\n                {\n                    title: \"歌手\",\n                    dataIndex: \"ar\",\n                    render: text => {\n                        return text.map(item => item.name).join(\"、\");\n                    },\n                },\n                {\n                    title: \"专辑\",\n                    dataIndex: \"al\",\n                    render: text => {\n                        return text.name;\n                    },\n                },\n                {\n                    title: \"时长\",\n                    dataIndex: \"dt\",\n                    render: text => {\n                        return playTime(text);\n                    },\n                },\n            ]\n        });\n        watch(\n            () => state.songsUrlObjArr,\n            newV => {\n                console.log(newV);\n            }\n        );\n        const getRec = () => {\n            return new Promise((resolve, reject) => {\n                getRecommendSongsApi({ t: Date.now() }).then((res: AxiosResponseProps) => {\n                    if (res.code === 200) {\n                        state.dailySongs = res.data.dailySongs;\n                        resolve(res);\n                    }\n                });\n            });\n        };\n        getRec();\n        const getLikeList: () => Promise<AxiosResponseProps> = () => {\n            return new Promise((resolve, reject) => {\n                getLikeListApi().then((res: any) => {\n                    if (res.code === 200) {\n                        state.likeList = res.ids;\n                        resolve(res);\n                    }\n                });\n            });\n        };\n        getLikeList();\n        const calendarColor = computed(() =>\n            store.getters.getTheme === \"primaryTheme\"\n                ? \"#ec4141\"\n                : store.getters.getTheme === \"darkTheme\"\n                ? \"#212529\"\n                : \"#50c475\"\n        );\n        const tryDownloadMusic = item => {\n            state.currentMusicObj = item;\n            getSongUrl(item.id).then((res: AxiosResponseProps) => {\n                if (res.code === 200) {\n                    if (res.data.length === 1) {\n                        state.songsUrlObjArr = res.data.map(item => ({ ...item, checked: true }));\n                    } else {\n                        state.songsUrlObjArr = res.data.map(item => ({ ...item, checked: false }));\n                    }\n                    state.downloadModalVisible = true;\n                }\n            });\n        };\n        const confirmDownload = () => {\n            console.log(state.songsUrlObjArr);\n            let findResult = state.songsUrlObjArr.find(item => item.checked);\n            if (findResult) {\n                downloadMusicFun(findResult.url, (state.currentMusicObj as { name: string }).name);\n            }\n        };\n        const collectMusic = (item, like) => {\n            likeMusic({ id: item.id, like }).then((res: any) => {\n                if (res.code === 200) {\n                    Promise.all([getRec(), getLikeList()]).then(\n                        ([res1, res2]: [AxiosResponseProps, AxiosResponseProps]) => {\n                            if (res1.code === 200 && res2.code === 200) {\n                                state.commonToast.success(like ? \"已添加到我喜欢的音乐\" : \"取消喜欢成功\");\n                            }\n                        }\n                    );\n                }\n            });\n        };\n        return {\n            ...toRefs(state),\n            playTime,\n            calendarColor,\n            window,\n            tryDownloadMusic,\n            musicQuality,\n            confirmDownload,\n            collectMusic,\n        };\n    },\n});\n</script>\n\n<style scoped lang=\"scss\">\n.primaryTheme {\n    .dateText {\n        color: $primary;\n    }\n    .playAllBtn {\n        background-color: $primary;\n    }\n    .okBtn {\n        background-color: $primary;\n    }\n}\n.darkTheme {\n    .dateText {\n        color: $dark;\n    }\n    .playAllBtn {\n        background-color: $dark;\n    }\n    .okBtn {\n        background-color: $dark;\n    }\n}\n.freeTheme {\n    .dateText {\n        color: $free;\n    }\n    .playAllBtn {\n        background-color: $free;\n    }\n    .okBtn {\n        background-color: $free;\n    }\n}\n.dailyRec {\n    .calendarBox {\n        width: 90px;\n        height: 90px;\n        box-sizing: border-box;\n        .dateText {\n            top: 60%;\n        }\n    }\n    .hover-btn {\n        &:hover {\n            background-color: rgba($color: #000000, $alpha: 0.1) !important;\n        }\n    }\n    .playAllBtn {\n        width: 160px;\n        height: 36px;\n        svg:first-of-type {\n            transform: rotate(-90deg);\n        }\n        > div:nth-child(1) {\n            flex-grow: 3;\n        }\n    }\n    .collectList {\n        height: 36px;\n    }\n}\n.okBtn {\n    width: 106px;\n    height: 38px;\n    border-radius: 20px;\n    color: #fff;\n    &:hover {\n        filter: invert(0.08);\n    }\n}\n.cancelBtn {\n    background-color: #fff !important;\n}\n</style>\n","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export const downloadMusic = (url: string, name: string | number = Date.now()) => {\n    console.log(name);\n    let tagA: any = document.createElement(\"a\");\n    tagA.download = String(name);\n    tagA.href = url;\n    tagA.click();\n};","\nimport { computed, defineComponent, reactive, ref, toRefs, watch } from \"vue\";\nimport { getRecommendSongsApi, getSongDetail, getSongUrl, likeMusic } from \"@/api/discover\";\nimport { getLikeList as getLikeListApi } from \"@/api/login\";\nimport { playTime } from \"@/hooks/useFilters\";\nimport { useStore } from \"vuex\";\nimport { downloadMusic as downloadMusicFun } from \"@/utils/file\";\nimport { musicQuality } from \"@/hooks/useFilters\";\nimport { AxiosResponseProps } from \"@/utils/request\";\nexport default defineComponent({\n    setup() {\n        const store = useStore();\n        const state = reactive({\n            dailySongs: [],\n            downloadModalVisible: false,\n            songsUrlObjArr: [],\n            currentMusicObj: {},\n            likeList: [],\n            commonToast: ref(null),\n            colVisible: false,\n            columns: [\n                {\n                    title: \"音乐标题\",\n                    dataIndex: \"name\",\n                },\n                {\n                    title: \"歌手\",\n                    dataIndex: \"ar\",\n                    render: text => {\n                        return text.map(item => item.name).join(\"、\");\n                    },\n                },\n                {\n                    title: \"专辑\",\n                    dataIndex: \"al\",\n                    render: text => {\n                        return text.name;\n                    },\n                },\n                {\n                    title: \"时长\",\n                    dataIndex: \"dt\",\n                    render: text => {\n                        return playTime(text);\n                    },\n                },\n            ]\n        });\n        watch(\n            () => state.songsUrlObjArr,\n            newV => {\n                console.log(newV);\n            }\n        );\n        const getRec = () => {\n            return new Promise((resolve, reject) => {\n                getRecommendSongsApi({ t: Date.now() }).then((res: AxiosResponseProps) => {\n                    if (res.code === 200) {\n                        state.dailySongs = res.data.dailySongs;\n                        resolve(res);\n                    }\n                });\n            });\n        };\n        getRec();\n        const getLikeList: () => Promise<AxiosResponseProps> = () => {\n            return new Promise((resolve, reject) => {\n                getLikeListApi().then((res: any) => {\n                    if (res.code === 200) {\n                        state.likeList = res.ids;\n                        resolve(res);\n                    }\n                });\n            });\n        };\n        getLikeList();\n        const calendarColor = computed(() =>\n            store.getters.getTheme === \"primaryTheme\"\n                ? \"#ec4141\"\n                : store.getters.getTheme === \"darkTheme\"\n                ? \"#212529\"\n                : \"#50c475\"\n        );\n        const tryDownloadMusic = item => {\n            state.currentMusicObj = item;\n            getSongUrl(item.id).then((res: AxiosResponseProps) => {\n                if (res.code === 200) {\n                    if (res.data.length === 1) {\n                        state.songsUrlObjArr = res.data.map(item => ({ ...item, checked: true }));\n                    } else {\n                        state.songsUrlObjArr = res.data.map(item => ({ ...item, checked: false }));\n                    }\n                    state.downloadModalVisible = true;\n                }\n            });\n        };\n        const confirmDownload = () => {\n            console.log(state.songsUrlObjArr);\n            let findResult = state.songsUrlObjArr.find(item => item.checked);\n            if (findResult) {\n                downloadMusicFun(findResult.url, (state.currentMusicObj as { name: string }).name);\n            }\n        };\n        const collectMusic = (item, like) => {\n            likeMusic({ id: item.id, like }).then((res: any) => {\n                if (res.code === 200) {\n                    Promise.all([getRec(), getLikeList()]).then(\n                        ([res1, res2]: [AxiosResponseProps, AxiosResponseProps]) => {\n                            if (res1.code === 200 && res2.code === 200) {\n                                state.commonToast.success(like ? \"已添加到我喜欢的音乐\" : \"取消喜欢成功\");\n                            }\n                        }\n                    );\n                }\n            });\n        };\n        return {\n            ...toRefs(state),\n            playTime,\n            calendarColor,\n            window,\n            tryDownloadMusic,\n            musicQuality,\n            confirmDownload,\n            collectMusic,\n        };\n    },\n});\n","import { render } from \"./dailyRec.vue?vue&type=template&id=cbb601a8&scoped=true\"\nimport script from \"./dailyRec.vue?vue&type=script&lang=ts\"\nexport * from \"./dailyRec.vue?vue&type=script&lang=ts\"\n\nimport \"./dailyRec.vue?vue&type=style&index=0&id=cbb601a8&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-cbb601a8\"\n\nexport default script"],"sourceRoot":""}