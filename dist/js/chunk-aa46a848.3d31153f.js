(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-aa46a848"],{"02ce":function(e,t,n){},"0eae":function(e,t,n){"use strict";n("02ce")},"533e":function(e,t,n){"use strict";n.r(t);n("d81d");var c=n("7a23"),o=Object(c["O"])("data-v-49cda1a5");Object(c["u"])("data-v-49cda1a5");var r={class:"dailyRec ps-3 h-100 overflow-scroll hideScrollBar"},i={class:"m-5 d-flex"},l={class:"position-relative calendarBox"},a={class:"dateText fw-bold position-absolute start-50 fs-1 translate-middle"},d=Object(c["h"])("div",{class:"ms-5 d-flex flex-column justify-content-center"},[Object(c["h"])("div",{class:"fs-1"},"每日歌曲推荐"),Object(c["h"])("div",{class:"text-muted"},"根据你的音乐口味生成，每天6:00更新")],-1),s={class:"d-flex"},u={class:"rounded-pill d-flex align-items-center justify-content-between text-white mb-4 ms-5 cursor-pointer position-relative overflow-hidden playAllBtn"},b={class:"d-flex align-items-center justify-content-center border-end h-100 hover-btn"},j=Object(c["h"])("span",{class:"ms-1"},"播放全部",-1),f={class:"d-flex align-items-center justify-content-center flex-grow-1 h-100 hover-btn"},O=Object(c["h"])("span",{class:"ms-2"},"收藏全部",-1),h={class:"border-top mb-5"},m={class:"d-flex justify-content-center"},v={class:"d-flex justify-content-center"};Object(c["s"])();var w=o((function(e,t,n,w,p,g){var y=Object(c["z"])("CalendarIcon"),x=Object(c["z"])("DownArrowIcon"),k=Object(c["z"])("PlusIcon"),M=Object(c["z"])("CollectList"),S=Object(c["z"])("MusicList"),C=Object(c["z"])("CommonModal"),A=Object(c["z"])("CommonToast"),T=Object(c["z"])("CollectionListModal");return Object(c["r"])(),Object(c["e"])(c["a"],null,[Object(c["h"])("div",r,[Object(c["h"])("div",i,[Object(c["h"])("div",l,[Object(c["h"])(y,{width:"90",height:"90",color:e.calendarColor},null,8,["color"]),Object(c["h"])("div",a,Object(c["C"])((new e.window.Date).getDate()),1)]),d]),Object(c["h"])("div",s,[Object(c["h"])("div",u,[Object(c["h"])("div",b,[Object(c["h"])(x,{width:"20",height:"20"}),j]),Object(c["h"])("div",f,[Object(c["h"])(k,{width:"20",height:"20"})])]),Object(c["h"])("div",{onClick:t[1]||(t[1]=function(t){return e.colVisible=!0}),class:"collectList ms-3 rounded-pill px-5 border d-flex align-items-center cursor-pointer hover-btn"},[Object(c["h"])(M,{width:"20",height:"20"}),O])]),Object(c["h"])("div",h,[Object(c["h"])(S,{columns:e.columns,dataSource:e.dailySongs},null,8,["columns","dataSource"])])]),Object(c["h"])(C,{visible:e.downloadModalVisible,"onUpdate:visible":t[4]||(t[4]=function(t){return e.downloadModalVisible=t})},{default:o((function(){return[Object(c["h"])("div",m,[(Object(c["r"])(!0),Object(c["e"])(c["a"],null,Object(c["x"])(e.songsUrlObjArr,(function(t,n){return Object(c["r"])(),Object(c["e"])("div",{key:n,class:"d-flex align-items-center cursor-pointer"},[Object(c["L"])(Object(c["h"])("input",{type:"radio",name:t.level,id:t.level,"onUpdate:modelValue":function(e){return t.checked=e},checked:t.checked},null,8,["name","id","onUpdate:modelValue","checked"]),[[c["G"],t.checked]]),Object(c["h"])("label",{class:"ms-3",for:t.level},Object(c["C"])(e.musicQuality(t.level)),9,["for"])])})),128))])]})),buttons:o((function(){return[Object(c["h"])("div",v,[Object(c["h"])("div",{onClick:t[2]||(t[2]=function(){return e.confirmDownload&&e.confirmDownload.apply(e,arguments)}),class:"okBtn cursor-pointer d-flex justify-content-center align-items-center"}," 确定 "),Object(c["h"])("div",{onClick:t[3]||(t[3]=function(t){return e.downloadModalVisible=!1}),class:"okBtn cancelBtn ms-4 rounded-pill text-muted border cursor-pointer d-flex justify-content-center align-items-center"}," 取消 ")])]})),_:1},8,["visible"]),Object(c["h"])(A,{ref:"commonToast"},null,512),Object(c["h"])(T,{tracks:e.dailySongs.map((function(e){return e.id})),visible:e.colVisible,"onUpdate:visible":t[5]||(t[5]=function(t){return e.colVisible=t})},null,8,["tracks","visible"])],64)}));function p(e){if(Array.isArray(e))return e}n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0");function g(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],c=!0,o=!1,r=void 0;try{for(var i,l=e[Symbol.iterator]();!(c=(i=l.next()).done);c=!0)if(n.push(i.value),t&&n.length===t)break}catch(a){o=!0,r=a}finally{try{c||null==l["return"]||l["return"]()}finally{if(o)throw r}}return n}}var y=n("06c5");function x(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function k(e,t){return p(e)||g(e,t)||Object(y["a"])(e,t)||x()}var M=n("5530"),S=(n("a15b"),n("b0c0"),n("7db0"),n("54ba")),C=n("17b9"),A=n("87db"),T=n("5502"),U=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();console.log(t);var n=document.createElement("a");n.download=String(t),n.href=e,n.click()},V=Object(c["i"])({setup:function(){var e=Object(T["b"])(),t=Object(c["v"])({dailySongs:[],downloadModalVisible:!1,songsUrlObjArr:[],currentMusicObj:{},likeList:[],commonToast:Object(c["w"])(null),colVisible:!1,columns:[{title:"音乐标题",dataIndex:"name"},{title:"歌手",dataIndex:"ar",render:function(e){return e.map((function(e){return e.name})).join("、")}},{title:"专辑",dataIndex:"al",render:function(e){return e.name}},{title:"时长",dataIndex:"dt",render:function(e){return Object(A["d"])(e)}}]});Object(c["J"])((function(){return t.songsUrlObjArr}),(function(e){console.log(e)}));var n=function(){return new Promise((function(e,n){Object(S["e"])({t:Date.now()}).then((function(n){200===n.code&&(t.dailySongs=n.data.dailySongs,e(n))}))}))};n();var o=function(){return new Promise((function(e,n){Object(C["e"])().then((function(n){200===n.code&&(t.likeList=n.ids,e(n))}))}))};o();var r=Object(c["c"])((function(){return"primaryTheme"===e.getters.getTheme?"#ec4141":"darkTheme"===e.getters.getTheme?"#212529":"#50c475"})),i=function(e){t.currentMusicObj=e,Object(S["f"])(e.id).then((function(e){200===e.code&&(1===e.data.length?t.songsUrlObjArr=e.data.map((function(e){return Object(M["a"])(Object(M["a"])({},e),{},{checked:!0})})):t.songsUrlObjArr=e.data.map((function(e){return Object(M["a"])(Object(M["a"])({},e),{},{checked:!1})})),t.downloadModalVisible=!0)}))},l=function(){console.log(t.songsUrlObjArr);var e=t.songsUrlObjArr.find((function(e){return e.checked}));e&&U(e.url,t.currentMusicObj.name)},a=function(e,c){Object(S["g"])({id:e.id,like:c}).then((function(e){200===e.code&&Promise.all([n(),o()]).then((function(e){var n=k(e,2),o=n[0],r=n[1];200===o.code&&200===r.code&&t.commonToast.success(c?"已添加到我喜欢的音乐":"取消喜欢成功")}))}))};return Object(M["a"])(Object(M["a"])({},Object(c["D"])(t)),{},{playTime:A["d"],calendarColor:r,window:window,tryDownloadMusic:i,musicQuality:A["b"],confirmDownload:l,collectMusic:a})}});n("0eae");V.render=w,V.__scopeId="data-v-49cda1a5";t["default"]=V}}]);
//# sourceMappingURL=chunk-aa46a848.3d31153f.js.map