{"version":3,"sources":["webpack:///./node_modules/core-js/internals/this-number-value.js","webpack:///./src/views/dailyRec.vue","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","webpack:///./node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack:///./src/utils/file.ts","webpack:///./src/views/dailyRec.vue?b01e","webpack:///./src/views/dailyRec.vue?0700","webpack:///./node_modules/core-js/modules/es.array.find.js","webpack:///./src/hooks/useFilters.ts","webpack:///./node_modules/core-js/modules/es.array.join.js","webpack:///./node_modules/core-js/modules/es.number.to-fixed.js","webpack:///./src/views/dailyRec.vue?98ee"],"names":["classof","module","exports","value","TypeError","class","width","height","color","calendarColor","window","Date","getDate","colVisible","dailySongs","dailySong","dailySongIndex","key","String","padStart","likeList","includes","id","collectMusic","tryDownloadMusic","name","ar","map","item","join","al","playTime","dt","visible","downloadModalVisible","default","songsUrlObjArr","index","type","level","checked","for","musicQuality","buttons","confirmDownload","ref","tracks","_arrayWithHoles","arr","Array","isArray","_iterableToArrayLimit","i","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","length","err","_nonIterableRest","_slicedToArray","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","downloadMusic","url","now","console","log","tagA","document","createElement","download","href","click","setup","store","state","currentMusicObj","commonToast","newV","getRec","Promise","resolve","reject","t","then","res","code","data","getLikeList","ids","getters","getTheme","findResult","find","like","all","res1","res2","success","render","__scopeId","$","$find","addToUnscopables","FIND","SKIPS_HOLES","target","proto","forced","callbackfn","this","arguments","playCount","count","toFixed","time","minute","Math","floor","second","IndexedObject","toIndexedObject","arrayMethodIsStrict","nativeJoin","ES3_STRINGS","STRICT_METHOD","separator","call","toInteger","thisNumberValue","repeat","fails","nativeToFixed","pow","x","n","acc","x2","multiply","c","c2","divide","dataToString","s","FORCED","fractionDigits","e","z","j","k","number","fractDigits","sign","result","RangeError","slice"],"mappings":"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","file":"js/chunk-8103fd7c.92aedd72.js","sourcesContent":["var classof = require('../internals/classof-raw');\n\n// `thisNumberValue` abstract operation\n// https://tc39.es/ecma262/#sec-thisnumbervalue\nmodule.exports = function (value) {\n  if (typeof value != 'number' && classof(value) != 'Number') {\n    throw TypeError('Incorrect invocation');\n  }\n  return +value;\n};\n","<template>\r\n    <div class=\"dailyRec ps-3 h-100 overflow-scroll hideScrollBar\">\r\n        <div class=\"m-5 d-flex\">\r\n            <div class=\"position-relative calendarBox\">\r\n                <CalendarIcon width=\"90\" height=\"90\" :color=\"calendarColor\" />\r\n                <div class=\"dateText fw-bold position-absolute start-50 fs-1 translate-middle\">{{ new window.Date().getDate() }}</div>\r\n            </div>\r\n            <div class=\"ms-5 d-flex flex-column justify-content-center\">\r\n                <div class=\"fs-1\">每日歌曲推荐</div>\r\n                <div class=\"text-muted\">根据你的音乐口味生成，每天6:00更新</div>\r\n            </div>\r\n        </div>\r\n        <div class=\"d-flex\">\r\n            <div\r\n                class=\"rounded-pill d-flex align-items-center justify-content-between text-white mb-4 ms-5 cursor-pointer position-relative overflow-hidden playAllBtn\"\r\n            >\r\n                <div class=\"d-flex align-items-center justify-content-center border-end h-100 hover-btn\">\r\n                    <DownArrowIcon width=\"20\" height=\"20\" />\r\n                    <span class=\"ms-1\">播放全部</span>\r\n                </div>\r\n                <div class=\"d-flex align-items-center justify-content-center flex-grow-1 h-100 hover-btn\">\r\n                    <PlusIcon width=\"20\" height=\"20\" />\r\n                </div>\r\n            </div>\r\n            <div @click=\"colVisible = true\" class=\"collectList ms-3 rounded-pill px-5 border d-flex align-items-center cursor-pointer hover-btn\">\r\n                <CollectList width=\"20\" height=\"20\" />\r\n                <span class=\"ms-2\">收藏全部</span>\r\n            </div>\r\n        </div>\r\n        <div class=\"border-top mb-5\">\r\n            <div class=\"row songRow headRow w-100\">\r\n                <div class=\"col-6 p-3 text-black-50 fs-5 songCol\">音乐标题</div>\r\n                <div class=\"col p-3 text-black-50 fs-5 songCol\">歌手</div>\r\n                <div class=\"col p-3 text-black-50 fs-5 songCol\">专辑</div>\r\n                <div class=\"col p-3 text-black-50 fs-5 songCol\">时长</div>\r\n            </div>\r\n            <div class=\"row ps-5 songRow w-100\" v-for=\"(dailySong, dailySongIndex) in dailySongs\" :key=\"dailySongIndex\">\r\n                <div class=\"col-6 p-3 songCol\">\r\n                    <span class=\"text-black-50 me-4\">{{ String(dailySongIndex + 1).padStart(2, \"0\") }}</span>\r\n                    <HaveLikedIcon\r\n                        @click=\"collectMusic(dailySong, false)\"\r\n                        v-if=\"likeList.includes(dailySong.id)\"\r\n                        width=\"14\"\r\n                        height=\"14\"\r\n                        class=\"hover-likedIcon\"\r\n                    />\r\n                    <LikedIcon @click=\"collectMusic(dailySong, true)\" v-else width=\"14\" height=\"14\" class=\"hover-icon\" />\r\n                    <DownloadMusicIcon @click=\"tryDownloadMusic(dailySong)\" width=\"14\" height=\"14\" class=\"hover-icon ms-4\" />\r\n                    <span class=\"ms-4\">{{ dailySong.name }}</span>\r\n                </div>\r\n                <div class=\"col-2 p-3 songCol\">{{ dailySong.ar.map(item => item.name).join(\"、\") }}</div>\r\n                <div class=\"col-2 p-3 songCol\">{{ dailySong.al.name }}</div>\r\n                <div class=\"col-2 p-3 songCol\">{{ playTime(dailySong.dt) }}</div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <CommonModal v-model:visible=\"downloadModalVisible\">\r\n        <template #default>\r\n            <div class=\"d-flex justify-content-center\">\r\n                <div v-for=\"(item, index) in songsUrlObjArr\" :key=\"index\" class=\"d-flex align-items-center cursor-pointer\">\r\n                    <input type=\"radio\" :name=\"item.level\" :id=\"item.level\" v-model=\"item.checked\" :checked=\"item.checked\" />\r\n                    <label class=\"ms-3\" :for=\"item.level\">{{ musicQuality(item.level) }}</label>\r\n                </div>\r\n            </div>\r\n        </template>\r\n        <template #buttons>\r\n            <div class=\"d-flex justify-content-center\">\r\n                <div @click=\"confirmDownload\" class=\"okBtn cursor-pointer d-flex justify-content-center align-items-center\">\r\n                    确定\r\n                </div>\r\n                <div\r\n                    @click=\"downloadModalVisible = false\"\r\n                    class=\"okBtn cancelBtn ms-4 rounded-pill text-muted border cursor-pointer d-flex justify-content-center align-items-center\"\r\n                >\r\n                    取消\r\n                </div>\r\n            </div>\r\n        </template>\r\n    </CommonModal>\r\n    <CommonToast ref=\"commonToast\" />\r\n    <CollectionListModal :tracks=\"dailySongs.map(item => item.id)\" v-model:visible=\"colVisible\" />\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { computed, defineComponent, reactive, ref, toRefs, watch } from \"vue\";\r\nimport { getRecommendSongsApi, getSongDetail, getSongUrl, likeMusic } from \"@/api/discover\";\r\nimport { getLikeList as getLikeListApi } from \"@/api/login\";\r\nimport { playTime } from \"@/hooks/useFilters\";\r\nimport { useStore } from \"vuex\";\r\nimport { downloadMusic as downloadMusicFun } from \"@/utils/file\";\r\nimport { musicQuality } from \"@/hooks/useFilters\";\r\nimport { AxiosResponseProps } from \"@/utils/request\";\r\nexport default defineComponent({\r\n    setup() {\r\n        const store = useStore();\r\n        const state = reactive({\r\n            dailySongs: [],\r\n            downloadModalVisible: false,\r\n            songsUrlObjArr: [],\r\n            currentMusicObj: {},\r\n            likeList: [],\r\n            commonToast: ref(null),\r\n            colVisible: false,\r\n        });\r\n        watch(\r\n            () => state.songsUrlObjArr,\r\n            newV => {\r\n                console.log(newV);\r\n            }\r\n        );\r\n        const getRec = () => {\r\n            return new Promise((resolve, reject) => {\r\n                getRecommendSongsApi({ t: Date.now() }).then((res: AxiosResponseProps) => {\r\n                    if (res.code === 200) {\r\n                        state.dailySongs = res.data.dailySongs;\r\n                        resolve(res);\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        getRec();\r\n        const getLikeList: () => Promise<AxiosResponseProps> = () => {\r\n            return new Promise((resolve, reject) => {\r\n                getLikeListApi().then((res: any) => {\r\n                    if (res.code === 200) {\r\n                        state.likeList = res.ids;\r\n                        resolve(res);\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        getLikeList();\r\n        const calendarColor = computed(() =>\r\n            store.getters.getTheme === \"primaryTheme\" ? \"#ec4141\" : store.getters.getTheme === \"darkTheme\" ? \"#212529\" : \"#50c475\"\r\n        );\r\n        const tryDownloadMusic = item => {\r\n            state.currentMusicObj = item;\r\n            getSongUrl(item.id).then((res: AxiosResponseProps) => {\r\n                if (res.code === 200) {\r\n                    if (res.data.length === 1) {\r\n                        state.songsUrlObjArr = res.data.map(item => ({ ...item, checked: true }));\r\n                    } else {\r\n                        state.songsUrlObjArr = res.data.map(item => ({ ...item, checked: false }));\r\n                    }\r\n                    state.downloadModalVisible = true;\r\n                }\r\n            });\r\n        };\r\n        const confirmDownload = () => {\r\n            console.log(state.songsUrlObjArr);\r\n            let findResult = state.songsUrlObjArr.find(item => item.checked);\r\n            if (findResult) {\r\n                downloadMusicFun(findResult.url, (state.currentMusicObj as { name: string }).name);\r\n            }\r\n        };\r\n        const collectMusic = (item, like) => {\r\n            likeMusic({ id: item.id, like }).then((res: any) => {\r\n                if (res.code === 200) {\r\n                    Promise.all([getRec(), getLikeList()]).then(([res1, res2]: [AxiosResponseProps, AxiosResponseProps]) => {\r\n                        if (res1.code === 200 && res2.code === 200) {\r\n                            state.commonToast.success(like ? \"已添加到我喜欢的音乐\" : \"取消喜欢成功\");\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n        };\r\n        return {\r\n            ...toRefs(state),\r\n            playTime,\r\n            calendarColor,\r\n            window,\r\n            tryDownloadMusic,\r\n            musicQuality,\r\n            confirmDownload,\r\n            collectMusic,\r\n        };\r\n    },\r\n});\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.primaryTheme {\r\n    .dateText {\r\n        color: $primary;\r\n    }\r\n    .playAllBtn {\r\n        background-color: $primary;\r\n    }\r\n}\r\n.darkTheme {\r\n    .dateText {\r\n        color: $dark;\r\n    }\r\n    .playAllBtn {\r\n        background-color: $dark;\r\n    }\r\n}\r\n.freeTheme {\r\n    .dateText {\r\n        color: $free;\r\n    }\r\n    .playAllBtn {\r\n        background-color: $free;\r\n    }\r\n}\r\n.dailyRec {\r\n    .calendarBox {\r\n        width: 90px;\r\n        height: 90px;\r\n        box-sizing: border-box;\r\n        .dateText {\r\n            top: 60%;\r\n        }\r\n    }\r\n    .hover-btn {\r\n        &:hover {\r\n            background-color: rgba($color: #000000, $alpha: 0.1) !important;\r\n        }\r\n    }\r\n    .playAllBtn {\r\n        width: 160px;\r\n        height: 36px;\r\n        svg:first-of-type {\r\n            transform: rotate(-90deg);\r\n        }\r\n        > div:nth-child(1) {\r\n            flex-grow: 3;\r\n        }\r\n    }\r\n    .collectList {\r\n        height: 36px;\r\n    }\r\n    .headRow {\r\n        .songCol {\r\n            text-align: center;\r\n        }\r\n    }\r\n    .songRow {\r\n        .songCol {\r\n            box-sizing: border-box;\r\n            @extend .text-ellipsis;\r\n            .hover-icon {\r\n                @extend .cursor-pointer;\r\n                opacity: 0.5;\r\n                &:hover {\r\n                    opacity: 1;\r\n                }\r\n            }\r\n        }\r\n        &:hover {\r\n            background-color: rgb(235, 235, 235) !important;\r\n        }\r\n    }\r\n    .songRow:nth-child(odd) {\r\n        background-color: #f1f1f1;\r\n    }\r\n    .songRow:nth-child(even) {\r\n        background-color: #fff;\r\n    }\r\n    .songRow:nth-child(1) {\r\n        background-color: #fff;\r\n    }\r\n}\r\n.okBtn {\r\n    width: 106px;\r\n    height: 38px;\r\n    border-radius: 20px;\r\n    color: #fff;\r\n    &:hover {\r\n        filter: invert(0.08);\r\n    }\r\n}\r\n.cancelBtn {\r\n    background-color: #fff !important;\r\n}\r\n.primaryTheme {\r\n    .okBtn {\r\n        background-color: $primary;\r\n    }\r\n}\r\n.darkTheme {\r\n    .okBtn {\r\n        background-color: $dark;\r\n    }\r\n}\r\n.freeTheme {\r\n    .okBtn {\r\n        background-color: $free;\r\n    }\r\n}\r\n</style>\r\n","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export const downloadMusic = (url: string, name: string | number = Date.now()) => {\r\n    console.log(name);\r\n    let tagA: any = document.createElement(\"a\");\r\n    tagA.download = String(name);\r\n    tagA.href = url;\r\n    tagA.click();\r\n};","\r\nimport { computed, defineComponent, reactive, ref, toRefs, watch } from \"vue\";\r\nimport { getRecommendSongsApi, getSongDetail, getSongUrl, likeMusic } from \"@/api/discover\";\r\nimport { getLikeList as getLikeListApi } from \"@/api/login\";\r\nimport { playTime } from \"@/hooks/useFilters\";\r\nimport { useStore } from \"vuex\";\r\nimport { downloadMusic as downloadMusicFun } from \"@/utils/file\";\r\nimport { musicQuality } from \"@/hooks/useFilters\";\r\nimport { AxiosResponseProps } from \"@/utils/request\";\r\nexport default defineComponent({\r\n    setup() {\r\n        const store = useStore();\r\n        const state = reactive({\r\n            dailySongs: [],\r\n            downloadModalVisible: false,\r\n            songsUrlObjArr: [],\r\n            currentMusicObj: {},\r\n            likeList: [],\r\n            commonToast: ref(null),\r\n            colVisible: false,\r\n        });\r\n        watch(\r\n            () => state.songsUrlObjArr,\r\n            newV => {\r\n                console.log(newV);\r\n            }\r\n        );\r\n        const getRec = () => {\r\n            return new Promise((resolve, reject) => {\r\n                getRecommendSongsApi({ t: Date.now() }).then((res: AxiosResponseProps) => {\r\n                    if (res.code === 200) {\r\n                        state.dailySongs = res.data.dailySongs;\r\n                        resolve(res);\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        getRec();\r\n        const getLikeList: () => Promise<AxiosResponseProps> = () => {\r\n            return new Promise((resolve, reject) => {\r\n                getLikeListApi().then((res: any) => {\r\n                    if (res.code === 200) {\r\n                        state.likeList = res.ids;\r\n                        resolve(res);\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        getLikeList();\r\n        const calendarColor = computed(() =>\r\n            store.getters.getTheme === \"primaryTheme\" ? \"#ec4141\" : store.getters.getTheme === \"darkTheme\" ? \"#212529\" : \"#50c475\"\r\n        );\r\n        const tryDownloadMusic = item => {\r\n            state.currentMusicObj = item;\r\n            getSongUrl(item.id).then((res: AxiosResponseProps) => {\r\n                if (res.code === 200) {\r\n                    if (res.data.length === 1) {\r\n                        state.songsUrlObjArr = res.data.map(item => ({ ...item, checked: true }));\r\n                    } else {\r\n                        state.songsUrlObjArr = res.data.map(item => ({ ...item, checked: false }));\r\n                    }\r\n                    state.downloadModalVisible = true;\r\n                }\r\n            });\r\n        };\r\n        const confirmDownload = () => {\r\n            console.log(state.songsUrlObjArr);\r\n            let findResult = state.songsUrlObjArr.find(item => item.checked);\r\n            if (findResult) {\r\n                downloadMusicFun(findResult.url, (state.currentMusicObj as { name: string }).name);\r\n            }\r\n        };\r\n        const collectMusic = (item, like) => {\r\n            likeMusic({ id: item.id, like }).then((res: any) => {\r\n                if (res.code === 200) {\r\n                    Promise.all([getRec(), getLikeList()]).then(([res1, res2]: [AxiosResponseProps, AxiosResponseProps]) => {\r\n                        if (res1.code === 200 && res2.code === 200) {\r\n                            state.commonToast.success(like ? \"已添加到我喜欢的音乐\" : \"取消喜欢成功\");\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n        };\r\n        return {\r\n            ...toRefs(state),\r\n            playTime,\r\n            calendarColor,\r\n            window,\r\n            tryDownloadMusic,\r\n            musicQuality,\r\n            confirmDownload,\r\n            collectMusic,\r\n        };\r\n    },\r\n});\r\n","import { render } from \"./dailyRec.vue?vue&type=template&id=241b24a1&scoped=true\"\nimport script from \"./dailyRec.vue?vue&type=script&lang=ts\"\nexport * from \"./dailyRec.vue?vue&type=script&lang=ts\"\n\nimport \"./dailyRec.vue?vue&type=style&index=0&id=241b24a1&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-241b24a1\"\n\nexport default script","'use strict';\nvar $ = require('../internals/export');\nvar $find = require('../internals/array-iteration').find;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\nvar FIND = 'find';\nvar SKIPS_HOLES = true;\n\n// Shouldn't skip holes\nif (FIND in []) Array(1)[FIND](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.find` method\n// https://tc39.es/ecma262/#sec-array.prototype.find\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES }, {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND);\n","export const playCount = (count: number) => {\r\n    if (count >= 100000000) {\r\n        return (count / 100000000).toFixed(1) + \"亿\";\r\n    }\r\n    if (count >= 10000) {\r\n        return (count / 10000).toFixed(1) + \"万\";\r\n    }\r\n    return count;\r\n};\r\nexport const playTime = (time: number) => {\r\n    if (!time) return \"00:00\";\r\n    let minute = Math.floor(time / 1000 / 60);\r\n    let second = Math.floor((time - minute * 60 * 1000) / 1000);\r\n    return `${String(minute).padStart(2, \"0\")}:${String(second).padStart(2, \"0\")}`;\r\n};\r\nexport const musicQuality = (level: string) => {\r\n    if (!level || level.includes(\"standard\")) {\r\n        return \"标准\";\r\n    }\r\n    if (level.includes(\"exhigh\")) {\r\n        return \"高品质\";\r\n    }\r\n    return \"标注\";\r\n};\r\n","'use strict';\nvar $ = require('../internals/export');\nvar IndexedObject = require('../internals/indexed-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar nativeJoin = [].join;\n\nvar ES3_STRINGS = IndexedObject != Object;\nvar STRICT_METHOD = arrayMethodIsStrict('join', ',');\n\n// `Array.prototype.join` method\n// https://tc39.es/ecma262/#sec-array.prototype.join\n$({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD }, {\n  join: function join(separator) {\n    return nativeJoin.call(toIndexedObject(this), separator === undefined ? ',' : separator);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar toInteger = require('../internals/to-integer');\nvar thisNumberValue = require('../internals/this-number-value');\nvar repeat = require('../internals/string-repeat');\nvar fails = require('../internals/fails');\n\nvar nativeToFixed = 1.0.toFixed;\nvar floor = Math.floor;\n\nvar pow = function (x, n, acc) {\n  return n === 0 ? acc : n % 2 === 1 ? pow(x, n - 1, acc * x) : pow(x * x, n / 2, acc);\n};\n\nvar log = function (x) {\n  var n = 0;\n  var x2 = x;\n  while (x2 >= 4096) {\n    n += 12;\n    x2 /= 4096;\n  }\n  while (x2 >= 2) {\n    n += 1;\n    x2 /= 2;\n  } return n;\n};\n\nvar multiply = function (data, n, c) {\n  var index = -1;\n  var c2 = c;\n  while (++index < 6) {\n    c2 += n * data[index];\n    data[index] = c2 % 1e7;\n    c2 = floor(c2 / 1e7);\n  }\n};\n\nvar divide = function (data, n) {\n  var index = 6;\n  var c = 0;\n  while (--index >= 0) {\n    c += data[index];\n    data[index] = floor(c / n);\n    c = (c % n) * 1e7;\n  }\n};\n\nvar dataToString = function (data) {\n  var index = 6;\n  var s = '';\n  while (--index >= 0) {\n    if (s !== '' || index === 0 || data[index] !== 0) {\n      var t = String(data[index]);\n      s = s === '' ? t : s + repeat.call('0', 7 - t.length) + t;\n    }\n  } return s;\n};\n\nvar FORCED = nativeToFixed && (\n  0.00008.toFixed(3) !== '0.000' ||\n  0.9.toFixed(0) !== '1' ||\n  1.255.toFixed(2) !== '1.25' ||\n  1000000000000000128.0.toFixed(0) !== '1000000000000000128'\n) || !fails(function () {\n  // V8 ~ Android 4.3-\n  nativeToFixed.call({});\n});\n\n// `Number.prototype.toFixed` method\n// https://tc39.es/ecma262/#sec-number.prototype.tofixed\n$({ target: 'Number', proto: true, forced: FORCED }, {\n  toFixed: function toFixed(fractionDigits) {\n    var number = thisNumberValue(this);\n    var fractDigits = toInteger(fractionDigits);\n    var data = [0, 0, 0, 0, 0, 0];\n    var sign = '';\n    var result = '0';\n    var e, z, j, k;\n\n    if (fractDigits < 0 || fractDigits > 20) throw RangeError('Incorrect fraction digits');\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (number != number) return 'NaN';\n    if (number <= -1e21 || number >= 1e21) return String(number);\n    if (number < 0) {\n      sign = '-';\n      number = -number;\n    }\n    if (number > 1e-21) {\n      e = log(number * pow(2, 69, 1)) - 69;\n      z = e < 0 ? number * pow(2, -e, 1) : number / pow(2, e, 1);\n      z *= 0x10000000000000;\n      e = 52 - e;\n      if (e > 0) {\n        multiply(data, 0, z);\n        j = fractDigits;\n        while (j >= 7) {\n          multiply(data, 1e7, 0);\n          j -= 7;\n        }\n        multiply(data, pow(10, j, 1), 0);\n        j = e - 1;\n        while (j >= 23) {\n          divide(data, 1 << 23);\n          j -= 23;\n        }\n        divide(data, 1 << j);\n        multiply(data, 1, 1);\n        divide(data, 2);\n        result = dataToString(data);\n      } else {\n        multiply(data, 0, z);\n        multiply(data, 1 << -e, 0);\n        result = dataToString(data) + repeat.call('0', fractDigits);\n      }\n    }\n    if (fractDigits > 0) {\n      k = result.length;\n      result = sign + (k <= fractDigits\n        ? '0.' + repeat.call('0', fractDigits - k) + result\n        : result.slice(0, k - fractDigits) + '.' + result.slice(k - fractDigits));\n    } else {\n      result = sign + result;\n    } return result;\n  }\n});\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./dailyRec.vue?vue&type=style&index=0&id=241b24a1&scoped=true&lang=scss\""],"sourceRoot":""}