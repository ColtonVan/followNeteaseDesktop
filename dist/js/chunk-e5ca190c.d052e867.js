(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e5ca190c"],{8173:function(t,e,c){"use strict";c.r(e);var n=c("5530"),i=(c("b0c0"),c("a4d3"),c("e01a"),c("7db0"),c("d81d"),c("4d90"),c("caad"),c("2532"),c("7a23")),a=Object(i["R"])("data-v-4f61ffe6");Object(i["w"])("data-v-4f61ffe6");var s={class:"pb-5 d-flex"},r={class:"flex-grow-1"},l={class:"d-flex align-items-center"},o=Object(i["i"])("div",{class:"MusicListTag rounded flex-center me-2"},"歌单",-1),u={class:"fs-3 fw-bold canSelect text-ellipsis",style:{"max-width":"400px"}},d={class:"d-flex align-items-center mt-2"},b={class:"me-3 cursor-pointer"},p={class:"text-muted"},O={class:"mt-3"},f={class:"mt-3 mb-1"},j=Object(i["i"])("span",null,"标签：",-1),m={class:"cursor-pointer"},v={key:0,class:"text-muted px-1"},y={class:"mb-1"},h={class:"me-3"},k=Object(i["h"])("歌曲："),w={class:"text-black-50"},g=Object(i["h"])("播放："),L={class:"text-black-50"},x={class:"d-flex align-items-start flex-grow-1"},I=Object(i["i"])("div",{class:"d-flex align-items-start"}," 简介： ",-1),D={class:"text-muted me-3"},M={class:"me-3"};Object(i["u"])();var R=a((function(t,e,c,R,C,E){var A,B,U,S,Y,q,J,T=Object(i["B"])("EditOutlinedIcon"),W=Object(i["B"])("PlayAllListBtn"),z=Object(i["B"])("DownArrowIcon"),N=Object(i["B"])("HorizontalNav"),P=Object(i["B"])("LikedIcon"),_=Object(i["B"])("HaveLikedIcon"),H=Object(i["B"])("DownloadMusicIcon"),$=Object(i["B"])("MusicList"),F=Object(i["B"])("CommonToast");return Object(i["t"])(),Object(i["f"])(i["a"],null,[Object(i["i"])("div",s,[Object(i["i"])("img",{src:t.playListDetail.coverImgUrl,width:"190",height:"190",class:"rounded-5 me-5 coverImg",alt:""},null,8,["src"]),Object(i["i"])("div",r,[Object(i["i"])("div",l,[o,Object(i["i"])("div",u,Object(i["E"])(t.playListDetail.name),1),(null===(A=t.playListDetail)||void 0===A||null===(B=A.creator)||void 0===B?void 0:B.userId)==t.userInfo.userId?(Object(i["t"])(),Object(i["f"])(T,{key:0,onClick:e[1]||(e[1]=function(e){return t.$router.push({path:"/container/updateMusicList",query:{id:t.playListDetail.id}})}),onMouseover:e[2]||(e[2]=function(e){return t.EditOutlinedIconActive=!0}),onMouseout:e[3]||(e[3]=function(e){return t.EditOutlinedIconActive=!1}),color:t.EditOutlinedIconActive?"#333":"#9a9a9a",class:"ms-3",width:"18",height:"18"},null,8,["color"])):Object(i["g"])("",!0)]),Object(i["i"])("div",d,[Object(i["i"])("img",{width:"35",class:"rounded-pill me-3 cursor-pointer",src:null===(U=t.playListDetail.creator)||void 0===U?void 0:U.avatarUrl,alt:""},null,8,["src"]),Object(i["i"])("a",b,Object(i["E"])(null===(S=t.playListDetail.creator)||void 0===S?void 0:S.nickname),1),Object(i["i"])("span",p,Object(i["E"])(t.YYYYMMDD(t.playListDetail.createTime))+"创建",1)]),Object(i["i"])("div",O,[Object(i["i"])(W,{musicList:t.playListDetail.tracks},null,8,["musicList"])]),Object(i["i"])("div",f,[j,(Object(i["t"])(!0),Object(i["f"])(i["a"],null,Object(i["z"])(t.playListDetail.tags,(function(e,c){return Object(i["t"])(),Object(i["f"])("span",{class:"colorA",key:c},[Object(i["i"])("span",m,Object(i["E"])(e),1),c!=t.playListDetail.tags.length-1?(Object(i["t"])(),Object(i["f"])("span",v,"/")):Object(i["g"])("",!0)])})),128))]),Object(i["i"])("div",y,[Object(i["i"])("span",h,[k,Object(i["i"])("span",w,Object(i["E"])(t.playListDetail.trackCount),1)]),Object(i["i"])("span",null,[g,Object(i["i"])("span",L,Object(i["E"])(t.playCount(t.playListDetail.playCount)),1)])]),Object(i["i"])("div",Object(i["n"])({class:"d-flex justify-content-between"},Object(n["a"])({},t.playListDetail.description?{title:t.playListDetail.description}:{})),[Object(i["i"])("span",x,[I,t.playListDetail.description||(null===(Y=t.playListDetail)||void 0===Y||null===(q=Y.creator)||void 0===q?void 0:q.userId)!=t.userInfo.userId?(Object(i["t"])(),Object(i["f"])("div",{key:1,ref:"descRef",class:["canSelect text-black-50",{"text-ellipsis":!t.iconIsUp,"flex-grow-1":t.iconIsUp}],style:[{"word-break":"break-all"},{width:t.iconIsUp?"0":"400px"}]},Object(i["E"])(t.playListDetail.description||"无"),7)):(Object(i["t"])(),Object(i["f"])("div",{key:0,class:"colorA cursor-pointer",onClick:e[4]||(e[4]=function(e){return t.$router.push({path:"/container/updateMusicList",query:{id:t.playListDetail.id,desc:"true"}})})}," 添加简介 "))]),t.showDownArrowIcon?(Object(i["t"])(),Object(i["f"])(z,{key:0,onClick:e[5]||(e[5]=function(e){return t.iconIsUp=!t.iconIsUp}),class:{"rotate-180":t.iconIsUp},width:"14",height:"14",color:"#6c757d"},null,8,["class"])):Object(i["g"])("",!0)],16)])]),Object(i["i"])(N,{navs:t.navs,"onUpdate:navs":e[6]||(e[6]=function(e){return t.navs=e}),class:"pb-2"},null,8,["navs"]),0===t.navs.find((function(t){return t.active})).key?(Object(i["t"])(),Object(i["f"])($,{key:0,columns:t.columns,dataSource:null===(J=t.playListDetail.tracks)||void 0===J?void 0:J.map((function(t,e){return Object(n["a"])(Object(n["a"])({},t),{},{index:e})}))},{toolBar:a((function(e){var c=e.id,n=e.index,a=e.name;return[Object(i["i"])("span",D,Object(i["E"])(String(n+1).padStart(2,"0")),1),Object(i["i"])("span",M,[t.likedMusicList.includes(c)?(Object(i["t"])(),Object(i["f"])(_,{key:1,class:"cursor-pointer",onClick:function(e){return t.collectMusic(!1,c)},width:"15",height:"15"},null,8,["onClick"])):(Object(i["t"])(),Object(i["f"])(P,{key:0,class:"cursor-pointer",onClick:function(e){return t.collectMusic(!0,c)},width:"15",height:"15"},null,8,["onClick"]))]),Object(i["i"])(H,{onClick:function(e){return t.handleDownloadMusic({id:c,name:a})},class:"cursor-pointer",width:"15",height:"15"},null,8,["onClick"])]})),_:1},8,["columns","dataSource"])):Object(i["g"])("",!0),Object(i["i"])(F,{ref:"toastRef"},null,512)],64)})),C=c("2909"),E=c("1da1"),A=(c("96cf"),c("a15b"),c("99af"),c("159b"),c("668f")),B=c("6c02"),U=c("87db"),S=c("5502"),Y=c("54ba"),q=c("3c08"),J=c("6e21"),T=c("61cd"),W=Object(i["j"])({components:{ArrowRightIcon:T["default"]},setup:function(){var t=Object(B["c"])(),e=Object(S["b"])(),c=Object(i["x"])({columns:[{title:"",span:1,dataIndex:"toolBar",slots:{customRender:"toolBar"}},{title:"音乐标题",span:3,dataIndex:"name"},{title:"歌手",span:3,dataIndex:"ar",render:function(t){return t.map((function(t){return t.name})).join("、")}},{title:"专辑",span:2,dataIndex:"al",render:function(t){return t.name}},{title:"时长",span:1,dataIndex:"dt",render:function(t){return Object(U["g"])(t)}}],playListDetail:{coverImgUrl:"https://p1.music.126.net/jWE3OEZUlwdz0ARvyQ9wWw==/109951165474121408.jpg"},navs:[{title:"歌曲列表",active:!0,key:0},{title:Object(i["d"])((function(){return"评论(".concat(c.playListDetail.commentCount||0,")")})),key:1},{title:"收藏者",key:2}],likedMusicList:Object(i["d"])((function(){return e.state.likedMusicList})),toastRef:Object(i["y"])(null),EditOutlinedIconActive:!1,userInfo:Object(i["d"])((function(){return e.state.userInfo})),iconIsUp:!1,descRef:Object(i["y"])(null),showDownArrowIcon:!1}),a=function(){var a=Object(E["a"])(regeneratorRuntime.mark((function a(s){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return Object(A["c"])({id:s,t:Date.now()}).then(function(){var a=Object(E["a"])(regeneratorRuntime.mark((function a(s){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(200!==s.code){a.next=12;break}return a.t0=n["a"],a.t1=Object(n["a"])({},s.playlist),a.t2={},a.next=6,Object(U["b"])(s.playlist.tracks);case 6:a.t3=a.sent,a.t4={tracks:a.t3},c.playListDetail=(0,a.t0)(a.t1,a.t2,a.t4),Object(i["o"])((function(){c.showDownArrowIcon=c.descRef.scrollWidth>c.descRef.offsetWidth})),"true"==t.query.immediate&&(s.playlist.tracks.length?(e.commit("changeCurrentMusicDetail",s.playlist.tracks[0]),e.commit("changeCurrentPlayList",[].concat(Object(C["a"])(JSON.parse(JSON.stringify(s.playlist.tracks))),Object(C["a"])(e.state.currentPlayList))),e.dispatch("getCurrentMusicUrlInfo",{id:s.playlist.tracks[0].id})):c.toastRef.warn("歌单暂无歌曲，请去添加一些吧~")),"true"==t.query.download&&(s.playlist.tracks.length?s.playlist.tracks.forEach((function(t,e){setTimeout((function(){r({id:t.id,name:t.name})}),120*e)})):c.toastRef.warn("歌单暂无歌曲，请去添加一些再来下载吧~"));case 12:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}()),a.next=3,e.dispatch("getLikedMusicList");case 3:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}(),s=function(t,n){Object(Y["g"])({id:n,like:t}).then(function(){var n=Object(E["a"])(regeneratorRuntime.mark((function n(i){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(200!==i.code){n.next=4;break}return n.next=3,e.dispatch("getLikedMusicList");case 3:c.toastRef.success(t?"已添加到我喜欢的音乐":"取消喜欢成功");case 4:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}())};Object(i["L"])((function(){return t.query}),(function(t){a(t.id)}),{immediate:!0});var r=function(t){var e=t.id,n=t.name;Object(J["c"])({id:e}).then((function(t){if(200===t.code){var e=t.data;e&&e.length?Object(q["b"])(e[0].url,n).then((function(){c.toastRef.success("已添加至下载")})).catch((function(){c.toastRef.warn("下载失败")})):c.toastRef.warn("获取音乐链接失败")}}))};return Object(n["a"])(Object(n["a"])({},Object(i["F"])(c)),{},{YYYYMMDD:U["a"],collectMusic:s,handleDownloadMusic:r,playCount:U["f"]})}});c("9393");W.render=R,W.__scopeId="data-v-4f61ffe6";e["default"]=W},9393:function(t,e,c){"use strict";c("a0e0")},a0e0:function(t,e,c){}}]);
//# sourceMappingURL=chunk-e5ca190c.d052e867.js.map